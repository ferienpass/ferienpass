{% trans_default_domain 'admin' %}

<div {{ attributes }}>

    {% embed '@FerienpassAdmin/components/dropdown.html.twig' %}
        {% block toggle %}
            <button type="button"
                    class="-mr-1 rounded p-1 hover:bg-gray-200/50"
                    id="options-menu-0-button" aria-expanded="false"
                    aria-haspopup="true">
                <span class="sr-only">Open options</span>

                {% if "cancelled" == offer.state %}
                    <span class="flex" aria-label="{{ ("offers.status."~offer.state)|trans([], "admin") }}"><span
                                title="{{ ("offers.status."~offer.state)|trans([], "admin") }}" aria-hidden="true"
                                class="text-red-600 w-6 h-6">{{ source("@FerienpassAdmin/icons/x-circle.solid.svg") }}</span></span>
                {% elseif "draft" == offer.state %}
                    <span class="flex" aria-label="{{ ("offers.status."~offer.state)|trans([], "admin") }}"><span
                                title="{{ ("offers.status."~offer.state)|trans([], "admin") }}" aria-hidden="true"
                                class="text-orange-600 w-6 h-6">{{ source("@FerienpassAdmin/icons/plus-circle.outline.svg") }}</span></span>
                {% elseif "completed" == offer.state %}
                    <span class="flex" aria-label="{{ ("offers.status."~offer.state)|trans([], "admin") }}"><span
                                title="{{ ("offers.status."~offer.state)|trans([], "admin") }}" aria-hidden="true"
                                class="text-green-600 w-6 h-6">{{ source("@FerienpassAdmin/icons/check-circle.outline.svg") }}</span></span>
                {% elseif "reviewed" == offer.state %}
                    <span class="flex" aria-label="{{ ("offers.status."~offer.state)|trans([], "admin") }}"><span
                                title="{{ ("offers.status."~offer.state)|trans([], "admin") }}" aria-hidden="true"
                                class="text-green-600 w-6 h-6">{{ source("@FerienpassAdmin/icons/shield-check.outline.svg") }}</span></span>
                {% elseif "published" == offer.state %}
                    <span class="flex" aria-label="{{ ("offers.status."~offer.state)|trans([], "admin") }}"><span
                                title="{{ ("offers.status."~offer.state)|trans([], "admin") }}" aria-hidden="true"
                                class="text-green-600 w-6 h-6">{{ source("@FerienpassAdmin/icons/check-circle.solid.svg") }}</span></span>
                {% endif %}


            </button>
        {% endblock %}

        {% block dropdown %}

            <div class="px-4 py-3" role="none">
                <p class="text-sm" role="none">Aktueller Status:</p>
                <p class="truncate text-sm font-medium text-gray-900">{{ offer.state }}</p>
            </div>
            <div class="py-1" role="none">
                {% for transition in this.transitions %}
                    <a href="#" class="text-gray-700 block px-4 py-2 text-sm" tabindex="-1">{{ transition.name }}</a>
                {% endfor %}
            </div>





        {% endblock %}

    {% endembed %}

</div>
