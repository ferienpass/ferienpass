<div class="max-w-5xl mx-auto mb-10 sm:px-6 lg:px-8">

    {% include '@FerienpassCore/Component/divider_title_left.html.twig' with { title: "Angebote filtern" } %}

    <div class="mt-2 sm:flex items-center sm:space-x-6 space-y-4 sm:space-y-0">
        <div>
            {{ form_start(form, {method: 'GET'}) }}

            <div class="">
                <div x-data="{ checked: {{ form.favorites.vars.checked ? 'true' : 'false' }} }"
                     class="flex items-center space-x-1">
                    <div>
                        <input type="hidden"
                               name="{{ form.favorites.vars.full_name }}"
                               :value="checked ? '1' : ''"
                               id="{{ form.favorites.vars.id }}">
                        <span role="checkbox"
                              tabindex="0"
                              @click="checked = !checked"
                              @keydown.space.prevent="checked = !checked"
                              :aria-checked="checked.toString()"
                              aria-checked="false"
                              :class="{ 'bg-gray-200': !checked, 'bg-red-600': checked }"
                              class="relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline bg-gray-200">
                                <span aria-hidden="true"
                                      :class="{ 'translate-x-5': checked, 'translate-x-0': !checked }"
                                      class="relative inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200 translate-x-0">
                                  <span :class="{ 'opacity-0 ease-out duration-100': checked, 'opacity-100 ease-in duration-200': !checked }"
                                        class="absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-100 ease-in duration-200">
                                    <span class="block h-3 w-3 text-gray-400">{{ source('@FerienpassCore/Icons/heart.svg') }}</span>
                                  </span>
                                  <span :class="{ 'opacity-100 ease-in duration-200': checked, 'opacity-0 ease-out duration-100': !checked }"
                                        class="absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-0 ease-out duration-100">
                                    <span class="block h-3 w-3 text-red-600">{{ source('@FerienpassCore/Icons/heart-solid.svg') }}</span>
                                  </span>
                                </span>
                          </span>
                    </div>
                    <label class="font-medium text-sm leading-4 cursor-pointer"
                           @click="checked = !checked"
                           :class="{ 'text-red-600': checked, 'text-gray-600': !checked }"
                           for="{{ form.favorites.vars.id }}">gemerkte<br>Angebote</label>
                </div>
            </div>

            {{ form_end(form, {'render_rest': false}) }}
        </div>

        <div>
            {% embed "@FerienpassCore/UiComponent/slide_over.html.twig" with {title: "Angeote filtern…"} %}
                {% block toggle %}

                    <button type="button"
                            @click="open = true"
                            class="inline-flex items-center pl-3 pr-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                        <span class="block h-5 w-5 mr-1">{{ source('@FerienpassCore/Icons/filter-outline.svg') }}</span>
                        Weitere Filter…
                    </button>

                {% endblock %}

                {% block content %}

                    {{ form_start(form) }}
                    {{ form_widget(form.request_token) }}

                    <div class="grid gap-3 grid-cols-2">

                        <div class="col-span-2">
                            {{ form_label(form.name, null, { label_attr: { class: '!text-xs !font-semibold'} }) }}
                            {{ form_widget(form.name) }}
                        </div>

                        <div class="w-24">
                            {{ form_label(form.age, null, { label_attr: { class: '!text-xs !font-semibold'} }) }}
                            {{ form_widget(form.age) }}
                        </div>
                        <div class="w-24">
                            {{ form_label(form.fee, null, { label_attr: { class: '!text-xs !font-semibold'} }) }}
                            {{ form_widget(form.fee) }}
                        </div>

                        <div>
                            {{ form_label(form.earliest_date, null, { label_attr: { class: '!text-xs !font-semibold'} }) }}
                            {{ form_widget(form.earliest_date) }}
                        </div>
                        <div>
                            {{ form_label(form.latest_date, null, { label_attr: { class: '!text-xs !font-semibold'} }) }}
                            {{ form_widget(form.latest_date) }}
                        </div>

                        <div class="mt-6">
                            <div x-data="{ checked: {{ form.favorites.vars.checked ? 'true' : 'false' }} }"
                                 class="flex items-center space-x-1">
                                <div>
                                    <input type="hidden"
                                           name="{{ form.favorites.vars.full_name }}"
                                           :value="checked ? '1' : ''"
                                           id="{{ form.favorites.vars.id }}">
                                    <span role="checkbox"
                                          tabindex="0"
                                          @click="checked = !checked"
                                          @keydown.space.prevent="checked = !checked"
                                          :aria-checked="checked.toString()"
                                          aria-checked="false"
                                          :class="{ 'bg-gray-200': !checked, 'bg-red-600': checked }"
                                          class="relative inline-block flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:shadow-outline bg-gray-200">
                                <span aria-hidden="true"
                                      :class="{ 'translate-x-5': checked, 'translate-x-0': !checked }"
                                      class="relative inline-block h-5 w-5 rounded-full bg-white shadow transform transition ease-in-out duration-200 translate-x-0">
                                  <span :class="{ 'opacity-0 ease-out duration-100': checked, 'opacity-100 ease-in duration-200': !checked }"
                                        class="absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-100 ease-in duration-200">
                                    <span class="block h-3 w-3 text-gray-400">{{ source('@FerienpassCore/Icons/heart.svg') }}</span>
                                  </span>
                                  <span :class="{ 'opacity-100 ease-in duration-200': checked, 'opacity-0 ease-out duration-100': !checked }"
                                        class="absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-0 ease-out duration-100">
                                    <span class="block h-3 w-3 text-red-600">{{ source('@FerienpassCore/Icons/heart-solid.svg') }}</span>
                                  </span>
                                </span>
                          </span>
                                </div>
                                <label class="font-medium text-sm leading-4 cursor-pointer"
                                       @click="checked = !checked"
                                       :class="{ 'text-red-600': checked, 'text-gray-600': !checked }"
                                       for="{{ form.favorites.vars.id }}">gemerkte<br>Angebote</label>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <button type="submit"
                                class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-primary-700 bg-primary-100 hover:bg-primary-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500">
                            Filter anwenden
                        </button>
                    </div>

                    {{ form_end(form, { render_rest: false }) }}

                {% endblock %}
            {% endembed %}
        </div>
    </div>

</div>
